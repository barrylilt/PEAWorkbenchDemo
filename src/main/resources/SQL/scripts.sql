-- 07/06/2016 Created table to store User specific view columns
drop table LND.WB_USER_COLUMN_CONFIG ;
create table LND.WB_USER_COLUMN_CONFIG (
	userName varchar(50),
	viewName varchar(100),
	displayColumns varchar(1000),
	hiddenColumns varchar(1000)
);
ALTER TABLE [LND].[WB_USER_COLUMN_CONFIG] ADD userColumnConfigId BIGINT NOT NULL IDENTITY (1,1) PRIMARY KEY;

insert into LND.WB_USER_COLUMN_CONFIG values (
'default', 
'ViewExceptions', 
'COL99|COL1|COL102|COL103|COL101|COL87|COL97|COL90|COL92|COL94|COL93|COL95|COL91|COL98|COL7|COL6|COL5|COL8|COL11|COL3|COL9|COL2|COL4|COL10|COL12|COL13|COL14|COL15|COL16|COL17|COL18|COL19|COL20|COL21|COL22|COL23|COL25|COL26|COL27|COL28|COL29|COL30|COL31|COL32|COL33|COL34|COL35|COL36|COL37|COL38|COL39|COL40|COL41|COL42|COL43|COL44|COL45|COL46|COL47|COL48|COL49|COL50|COL51|COL52|COL53|COL54|COL55|COL56|COL57|COL58|COL59|COL60|COL61|COL62|COL63|COL64|COL65|COL66|COL67|COL68|COL69|COL70|COL71|COL72|COL73|COL74|COL75|COL76|COL77|COL78|COL79|COL80|COL81|COL82|COL83|COL84|COL85|COL86|COL96|COL100|COL104|COL105|COL106|COL107|COL108|COL109|COL110|COL111|COL112|COL113|COL114|COL115|COL116|COL117|COL118|COL119|COL120|COL121|COL122|COL123|COL124|COL125|COL126|COL127|COL128|COL129|COL130|COL131|COL132|COL133|COL134|COL135|COL136|COL137|COL138|COL139|COL140|COL141|COL142|COL143|COL144',
''
);

insert into LND.WB_USER_COLUMN_CONFIG values (
'default', 
'ViewPromotedProducts', 
'COL107|COL96|COL3|COL97|COL98|COL6|COL7|COL5|COL112|COL113|COL8|COL9|COL10|COL11|COL12|COL13|COL14|COL15|COL16|COL17|COL18|COL19|COL20|COL21|COL22|COL23|COL24|COL25|COL26|COL27|COL28|COL29|COL30|COL31|COL32|COL33|COL34|COL35|COL36|COL37|COL38|COL39|COL40|COL41|COL42|COL43|COL44|COL45|COL46|COL47|COL48|COL49|COL50|COL51|COL52|COL53|COL54|COL55|COL56|COL57|COL58|COL59|COL60|COL61|COL62|COL63|COL64|COL65|COL66|COL67|COL68|COL69|COL70|COL71|COL72|COL73|COL74|COL75|COL76|COL77|COL78|COL79|COL80|COL81|COL82|COL83|COL84|COL85|COL86|COL87|COL88|COL89|COL90|COL105|COL106|COL91|COL92|COL99|COL100|COL101|COL102|COL103|COL104|COL108|COL109|COL110|COL111',
''
);


insert into LND.WB_USER_COLUMN_CONFIG values (
'default', 
'ViewDatasets', 
'COL0|COL112|COL1|COL2|COL3|COL4|COL121|COL122|COL125|COL126|COL5|COL6|COL7|COL8|COL130|COL131|COL9|COL10|COL106|COL108|COL127|COL128|COL129|COL11|COL12|COL13|COL14|COL15|COL16|COL17|COL18|COL19|COL20|COL21|COL22|COL23|COL24|COL25|COL26|COL27|COL28|COL29|COL30|COL31|COL32|COL33|COL34|COL35|COL36|COL37|COL38|COL39|COL40|COL41|COL42|COL43|COL44|COL45|COL46|COL47|COL48|COL49|COL50|COL51|COL52|COL53|COL54|COL55|COL56|COL57|COL58|COL59|COL60|COL61|COL62|COL63|COL64|COL65|COL66|COL67|COL68|COL69|COL70|COL71|COL72|COL73|COL74|COL75|COL76|COL77|COL78|COL79|COL80|COL81|COL82|COL83|COL84|COL85|COL86|COL87|COL88|COL89|COL90|COL91|COL92|COL93|COL132|COL133|COL134|COL135|COL136|COL137|COL138|COL139|COL140|COL141|COL142|COL143|COL144|COL145|COL146|COL147|COL148|COL149|COL150|COL94|COL95|COL96|COL97|COL98|COL99|COL100|COL101|COL102|COL103|COL104|COL105|COL107|COL109|COL110|COL111|COL151|COL113|COL114|COL115|COL116|COL117|COL118|COL119|COL120|COL123|COL124',
''
);


CREATE TABLE [LND].[WB_USER_PROFILE](
	[UserID] [bigint] IDENTITY(1,1) NOT NULL ,
	[UserName] [varchar](100) NOT NULL,
	[FirstName] [varchar](100) NULL,
	[LastName] [varchar](100) NULL,
	[Company] [varchar](100) NULL,
	[EmailAddress] [varchar](100) NULL,
	[Address] [varchar](200) NULL,
	[City] [varchar](100) NULL,
	[Country] [varchar](100) NULL,
	[PostalCode] [varchar](50) NULL,
	[AboutMe] [varchar](700) NULL,
	[Photo] varbinary(max) NULL,
PRIMARY KEY CLUSTERED 
(
	[UserID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY];

ALTER TABLE [LND].[WB_USER_PROFILE] ALTER COLUMN AboutMe VARCHAR(700);

ALTER TABLE PRS.DATASET_DIM ADD isActive VARCHAR(1);


--======== Phase 2 ==========

insert into LND.WB_USER_COLUMN_CONFIG values (
'default', 
'ViewExceptions', 
'COL99|COL1|COL102|COL103|COL101|COL87|COL97|COL90|COL92|COL94|COL93|COL95|COL91|COL98|COL145|COL146|COL7|COL6|COL5|COL8|COL11|COL3|COL9|COL2|COL4|COL10|COL12|COL13|COL14|COL15|COL16|COL17|COL18|COL19|COL20|COL21|COL22|COL23|COL25|COL26|COL27|COL28|COL29|COL30|COL31|COL32|COL33|COL34|COL35|COL36|COL37|COL38|COL39|COL40|COL41|COL42|COL43|COL44|COL45|COL46|COL47|COL48|COL49|COL50|COL51|COL52|COL53|COL54|COL55|COL56|COL57|COL58|COL59|COL60|COL61|COL62|COL63|COL64|COL65|COL66|COL67|COL68|COL69|COL70|COL71|COL72|COL73|COL74|COL75|COL76|COL77|COL78|COL79|COL80|COL81|COL82|COL83|COL84|COL85|COL86|COL96|COL100|COL104|COL105|COL106|COL107|COL108|COL109|COL110|COL111|COL112|COL113|COL114|COL115|COL116|COL117|COL118|COL119|COL120|COL121|COL122|COL123|COL124|COL125|COL126|COL127|COL128|COL129|COL130|COL131|COL132|COL133|COL134|COL135|COL136|COL137|COL138|COL139|COL140|COL141|COL142|COL143|COL144',
''
);

insert into LND.WB_USER_COLUMN_CONFIG values (
'default', 
'ViewPromotedProducts', 
'COL107|COL96|COL3|COL97|COL98|COL6|COL7|COL5|COL112|COL113|COL114|COL115|COL8|COL9|COL10|COL11|COL12|COL13|COL14|COL15|COL16|COL17|COL18|COL19|COL20|COL21|COL22|COL23|COL24|COL25|COL26|COL27|COL28|COL29|COL30|COL31|COL32|COL33|COL34|COL35|COL36|COL37|COL38|COL39|COL40|COL41|COL42|COL43|COL44|COL45|COL46|COL47|COL48|COL49|COL50|COL51|COL52|COL53|COL54|COL55|COL56|COL57|COL58|COL59|COL60|COL61|COL62|COL63|COL64|COL65|COL66|COL67|COL68|COL69|COL70|COL71|COL72|COL73|COL74|COL75|COL76|COL77|COL78|COL79|COL80|COL81|COL82|COL83|COL84|COL85|COL86|COL87|COL88|COL89|COL90|COL105|COL106|COL91|COL92|COL99|COL100|COL101|COL102|COL103|COL104|COL108|COL109|COL110|COL111',
''
);


insert into LND.WB_USER_COLUMN_CONFIG values (
'default', 
'ViewDatasets', 
'COL0|COL112|COL1|COL2|COL3|COL4|COL121|COL122|COL125|COL126|COL5|COL6|COL7|COL8|COL130|COL131|COL9|COL10|COL106|COL108|COL127|COL128|COL129|COL154|COL155|COL11|COL12|COL13|COL14|COL15|COL16|COL17|COL18|COL19|COL20|COL21|COL22|COL23|COL24|COL25|COL26|COL27|COL28|COL29|COL30|COL31|COL32|COL33|COL34|COL35|COL36|COL37|COL38|COL39|COL40|COL41|COL42|COL43|COL44|COL45|COL46|COL47|COL48|COL49|COL50|COL51|COL52|COL53|COL54|COL55|COL56|COL57|COL58|COL59|COL60|COL61|COL62|COL63|COL64|COL65|COL66|COL67|COL68|COL69|COL70|COL71|COL72|COL73|COL74|COL75|COL76|COL77|COL78|COL79|COL80|COL81|COL82|COL83|COL84|COL85|COL86|COL87|COL88|COL89|COL90|COL91|COL92|COL93|COL132|COL133|COL134|COL135|COL136|COL137|COL138|COL139|COL140|COL141|COL142|COL143|COL144|COL145|COL146|COL147|COL148|COL149|COL150|COL94|COL95|COL96|COL97|COL98|COL99|COL100|COL101|COL102|COL103|COL104|COL105|COL107|COL109|COL110|COL111|COL151|COL113|COL114|COL115|COL116|COL117|COL118|COL119|COL120|COL123|COL124',
''
);



--harm_prod

create schema peaworkbench;

--